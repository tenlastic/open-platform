apiVersion: kustomize.config.k8s.io/v1beta1
bases:
  - ../local/
kind: Kustomization
patches:
  - path: ./static/angular/home-ui.json
    target:
      group: apps
      kind: Deployment
      name: home-ui
      namespace: static
      version: v1
  - path: ./static/argo/cron-workflows/e2e.json
    target:
      group: argoproj.io
      kind: CronWorkflow
      name: api
      namespace: static
      version: v1alpha1
  - path: ./static/nodejs/api.json
    target:
      group: apps
      kind: StatefulSet
      name: api
      namespace: static
      version: v1
  - path: ./static/nodejs/documentation.json
    target:
      group: apps
      kind: Deployment
      name: documentation
      namespace: static
      version: v1
  - path: ./static/nodejs/migrations.json
    target:
      group: batch
      kind: Job
      name: migrations
      namespace: static
      version: v1
resources:
  - ./static/workspace/workspace.secret.example.yaml
  - ./static/workspace/workspace.pod.yaml
