apiVersion: kustomize.config.k8s.io/v1beta1
bases:
  - ../../base/
kind: Kustomization
patches:
  - path: ./docker-registry/docker-registry.json
    target:
      group: apps
      kind: Deployment
      name: docker-registry
      version: v1
patchesStrategicMerge:
  - ./ingress-nginx/ingress-nginx.yaml
resources:
  - ./argo/argo-ci.sealedsecret.yaml
  - ./argo/argo-ci.yaml
  - ./cert-manager/cert-manager-credentials.sealedsecret.yaml
  - ./cert-manager/cert-manager.yaml
  - ./cert-manager/letsencrypt-production.clusterissuer.yaml
  - ./ci-cd/cd-environment-variables.sealedsecret.yaml
  - ./ci-cd/cd-ssh-keys.sealedsecret.yaml
  - ./ci-cd/ci-environment-variables.sealedsecret.yaml
  - ./docker-registry/docker-registry-image-pull-secret.sealedsecret.yaml
  - ./docker-registry/docker-registry.sealedsecret.yaml
  - ./flux/flux.yaml
  - ./kafka/kafdrop.sealedsecret.yaml
  - ./kafka/kafka.sealedsecret.yaml
  - ./kafka/zookeeper.sealedsecret.yaml
  - ./minio/minio.sealedsecret.yaml
  - ./mongodb/mongodb.sealedsecret.yaml
  - ./mongodb/mongoku.sealedsecret.yaml
  - ./ingress-nginx/basic-authentication.ingress.yaml
  - ./ingress-nginx/basic-authentication.sealedsecret.yaml
  - ./ingress-nginx/default.ingress.yaml
  - ./nodejs/environment-variables.sealedsecret.yaml
  - ./sealed-secrets/sealed-secrets.yaml
